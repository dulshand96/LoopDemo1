<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Loop - Home</title>
  <link rel="icon" type="image/x-icon" href="images/favicon.ico">
  <link rel="stylesheet" href="style.css">

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <!-- Your JS -->
  <script src="script.js"></script>
  <script src="Lists.js"></script>
</head>

<body>
  <!-- Logo -->
  <a href="index.html" class="logo-link">
  <img src="images/logo.png" alt="Loop Logo" class="logo">
  </a>

  <!-- Tabs -->
  <div id="category-tabs" style="display: flex; gap: 10px; justify-content: center; margin-bottom: 20px;"></div>

  <!-- Banner -->
  <div class="banner-container"></div> 

    <img src="https://img.freepik.com/premium-photo/top-view-summer-vintage-clothes_35675-329.jpg" alt="Banner" class="homepage-banner-image">

    <div class="banner-text-card">
      <h2 class="banner-text-heading">Ready to declutter?</h2>
      <a class="banner-sell-button" href="add.html">Sell now</a><br>
      <a class="banner-learn-button" href="learn1.html">Learn how it works</a>
    </div>
  
  </div>

  <h1 class="hidden-heading">Loop</h1>

  <h2 class="shipping-fee-notice1">Shipping fee will be added at checkout</h2>

  <!-- Buttons -->
  <a href="add.html" class="add-item-button">+ Sell now</a>
  <a href="edit-index.html" class="edit-page-button">✎ Edit Items</a>

  <!-- Items -->
  <div id="items-container"></div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      displayItems();
    });
  </script>
</body>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Create tabs dynamically from CATEGORIES
  const tabsContainer = document.getElementById("category-tabs");
  tabsContainer.innerHTML = `<button class="category-tab active" data-category="All">All</button>`;
  CATEGORIES.forEach(category => {
    tabsContainer.innerHTML += `<button class="category-tab" data-category="${category}">${category}</button>`;
  });

  let currentCategory = "All";

  function displayItems(category = "All") {
    db.collection("items").get().then(snapshot => {
      const itemsContainer = document.getElementById("items-container");
      itemsContainer.innerHTML = "";
      snapshot.forEach(doc => {
        const item = doc.data();
        if (category === "All" || item.category === category) {
          // Render item card (use your existing code here)
          itemsContainer.innerHTML += `
            <div class="item-card">
              <img src="${item.image}" class="item-tile" alt="${item.title}">
              <div class="item-title">${item.title}</div>
              <div class="brand">${item.brand}</div>
              <div class="price">£${item.price}</div>
            </div>
          `;
        }
      });
    });
  }

  // Initial display
  displayItems();

  // Tab click event
  tabsContainer.addEventListener('click', function(e) {
    if (e.target.classList.contains('category-tab')) {
      document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
      e.target.classList.add('active');
      currentCategory = e.target.getAttribute('data-category');
      displayItems(currentCategory);
    }
  });
});
</script>

</html>


